/**
 * Internationalization (i18n) - IleRise
 * Languages: French (fr), English (en)
 * NASA Space Apps Challenge 2025
 */

export const translations = {
  // ========== COMMON ==========
  common: {
    back: {
      fr: 'Retour',
      en: 'Back',
      fon: 'GbÉ”'
    },
    continue: {
      fr: 'Continuer',
      en: 'Continue',
      fon: 'Yi É–ohu'
    },
    confirm: {
      fr: 'Confirmer',
      en: 'Confirm',
      fon: 'JlÇ’'
    },
    cancel: {
      fr: 'Annuler',
      en: 'Cancel',
      fon: 'SÉ”'
    },
    close: {
      fr: 'Fermer',
      en: 'Close',
      fon: 'Tu'
    },
    yes: {
      fr: 'Oui',
      en: 'Yes',
      fon: 'Æn'
    },
    no: {
      fr: 'Non',
      en: 'No',
      fon: 'A'
    },
    loading: {
      fr: 'Chargement...',
      en: 'Loading...',
      fon: 'Ã‰ ka jÃ­...'
    },
    error: {
      fr: 'Erreur',
      en: 'Error',
      fon: 'NukÃºn'
    },
    success: {
      fr: 'SuccÃ¨s',
      en: 'Success',
      fon: 'NÇ” vivi'
    }
  },

  // ========== HOME SCREEN ==========
  home: {
    title: {
      fr: 'IleRise',
      en: 'IleRise',
      fon: 'IleRise'
    },
    subtitle: {
      fr: 'AgroData Explorer',
      en: 'AgroData Explorer',
      fon: 'AgblÉ”mÉ› KpÉ”ÌÉ–enamÉ›'
    },
    heroMessage: {
      fr: 'Sauvez AgriVerse avec les donnÃ©es NASA',
      en: 'Save AgriVerse with NASA data',
      fon: 'Æ‰Ã² AgriVerse kpo NASA lÉ› nukÃºnmÉ› tÉ”n lÉ›'
    },
    btnStart: {
      fr: 'ðŸš€ Commencer',
      en: 'ðŸš€ Start',
      fon: 'ðŸš€ JÉ›'
    },
    btnTutorial: {
      fr: 'ðŸŽ“ Tutoriel Interactif',
      en: 'ðŸŽ“ Interactive Tutorial',
      fon: 'ðŸŽ“ KplÉ”ÌnkplÉ”Ìn'
    },
    btnProfile: {
      fr: 'ðŸ‘¤ Mon Profil',
      en: 'ðŸ‘¤ My Profile',
      fon: 'ðŸ‘¤ Nye tÉ”n'
    },
    btnLogout: {
      fr: 'ðŸšª Se dÃ©connecter',
      en: 'ðŸšª Logout',
      fon: 'ðŸšª Do gÃ³'
    },
    lives: {
      fr: 'Vies',
      en: 'Lives',
      fon: 'GbÉ›zÃ¡n'
    },
    coins: {
      fr: 'PiÃ¨ces',
      en: 'Coins',
      fon: 'KpÉ”Ìn'
    },
    poweredBy: {
      fr: 'Powered by NASA Earth Data',
      en: 'Powered by NASA Earth Data',
      fon: 'NASA AyikÃºngban NukÃºnmÉ› tÉ”n'
    }
  },

  // ========== AUTH SCREEN ==========
  auth: {
    login: {
      fr: 'Connexion',
      en: 'Login'
    },
    register: {
      fr: 'Inscription',
      en: 'Register'
    },
    guestMode: {
      fr: 'ðŸŽ® Jouer en tant qu\'invitÃ©',
      en: 'ðŸŽ® Play as Guest'
    },
    username: {
      fr: 'Nom d\'utilisateur',
      en: 'Username'
    },
    email: {
      fr: 'Email',
      en: 'Email'
    },
    password: {
      fr: 'Mot de passe',
      en: 'Password'
    },
    rememberMe: {
      fr: 'Se souvenir de moi',
      en: 'Remember me'
    },
    noAccount: {
      fr: 'Pas encore de compte ?',
      en: 'No account yet?'
    },
    hasAccount: {
      fr: 'DÃ©jÃ  un compte ?',
      en: 'Already have an account?'
    },
    btnLogin: {
      fr: 'Se connecter',
      en: 'Sign In'
    },
    btnRegister: {
      fr: 'S\'inscrire',
      en: 'Sign Up'
    },
    logout: {
      fr: 'DÃ©connexion',
      en: 'Logout',
      fon: 'DÃ³ gbÉ”'
    },
    logoutConfirm: {
      fr: 'ÃŠtes-vous sÃ»r de vouloir vous dÃ©connecter ?',
      en: 'Are you sure you want to logout?',
      fon: 'Æ‰Ã² Ã  lÉ› É–Ã³ wÃ  dÃ³ gbÉ” Ã ?'
    }
  },

  // ========== LOCATION SELECTION ==========
  location: {
    title: {
      fr: 'ðŸ“ Choisissez votre localitÃ©',
      en: 'ðŸ“ Choose your location'
    },
    subtitle: {
      fr: 'SÃ©lectionnez une ville du BÃ©nin pour charger les donnÃ©es satellites NASA',
      en: 'Select a city in Benin to load NASA satellite data'
    },
    hint: {
      fr: 'ðŸ’¡ Les conditions climatiques varient selon les rÃ©gions',
      en: 'ðŸ’¡ Climate conditions vary by region'
    },
    ndvi: {
      fr: 'NDVI',
      en: 'NDVI'
    },
    temperature: {
      fr: 'TempÃ©rature',
      en: 'Temperature'
    },
    soilMoisture: {
      fr: 'HumiditÃ© Sol',
      en: 'Soil Moisture'
    },
    precipitation: {
      fr: 'PrÃ©cipitations',
      en: 'Precipitation'
    },
    btnConfirm: {
      fr: 'Confirmer et Choisir Culture',
      en: 'Confirm and Choose Crop'
    },
    statusGood: {
      fr: 'ðŸŸ¢ Bonne vÃ©gÃ©tation',
      en: 'ðŸŸ¢ Good vegetation'
    },
    statusMedium: {
      fr: 'ðŸŸ¡ VÃ©gÃ©tation moyenne',
      en: 'ðŸŸ¡ Medium vegetation'
    },
    statusPoor: {
      fr: 'ðŸ”´ VÃ©gÃ©tation faible',
      en: 'ðŸ”´ Poor vegetation'
    }
  },

  // ========== CROP SELECTION ==========
  cropSelect: {
    title: {
      fr: 'Choisissez votre culture',
      en: 'Choose your crop'
    },
    btnKnowledgeCards: {
      fr: 'ðŸ“š Cartes Ã‰ducatives NASA',
      en: 'ðŸ“š NASA Educational Cards'
    },
    locked: {
      fr: 'ðŸ”’ BloquÃ©',
      en: 'ðŸ”’ Locked'
    },
    unlock: {
      fr: 'DÃ©bloquer',
      en: 'Unlock'
    },
    unlockCost: {
      fr: 'CoÃ»t: {cost} piÃ¨ces',
      en: 'Cost: {cost} coins'
    }
  },

  // ========== LEVEL SELECTION ==========
  levelSelect: {
    title: {
      fr: '{crop}',
      en: '{crop}'
    },
    description: {
      fr: 'Progressez Ã  travers 3 niveaux de difficultÃ© croissante',
      en: 'Progress through 3 levels of increasing difficulty'
    },
    easy: {
      fr: 'Facile',
      en: 'Easy'
    },
    medium: {
      fr: 'Moyen',
      en: 'Medium'
    },
    hard: {
      fr: 'Difficile',
      en: 'Hard'
    },
    locked: {
      fr: 'Obtenir 3 Ã©toiles au niveau prÃ©cÃ©dent',
      en: 'Get 3 stars in previous level'
    },
    bestScore: {
      fr: 'Meilleur score: {score}',
      en: 'Best score: {score}'
    },
    stars: {
      fr: 'Ã‰toiles',
      en: 'Stars'
    }
  },

  // ========== GAME SCREEN ==========
  game: {
    title: {
      fr: '{crop} - Niveau {level}',
      en: '{crop} - Level {level}'
    },
    loadingField: {
      fr: 'Chargement de votre champ...',
      en: 'Loading your field...'
    },
    parameters: {
      fr: 'ParamÃ¨tres de Culture',
      en: 'Crop Parameters'
    },
    irrigation: {
      fr: 'ðŸ’§ Irrigation',
      en: 'ðŸ’§ Irrigation'
    },
    npkFertilizer: {
      fr: 'ðŸŒ¾ Engrais NPK',
      en: 'ðŸŒ¾ NPK Fertilizer'
    },
    soilPH: {
      fr: 'âš—ï¸ pH du Sol',
      en: 'âš—ï¸ Soil pH'
    },
    btnNASAHelp: {
      fr: 'ðŸ“¡ Aide NASA',
      en: 'ðŸ“¡ NASA Help'
    },
    btnSimulate: {
      fr: 'Lancer la Simulation',
      en: 'Run Simulation'
    },
    comingSoon: {
      fr: 'Prochainement',
      en: 'Coming Soon'
    },
    uploadData: {
      fr: 'ðŸ“¤ Importer vos donnÃ©es',
      en: 'ðŸ“¤ Upload your data'
    },
    inDevelopment: {
      fr: '(En dÃ©veloppement)',
      en: '(In development)'
    },
    noLives: {
      fr: 'Plus de vies',
      en: 'No lives left'
    },
    noLivesMessage: {
      fr: 'Vous n\'avez plus de vies. Revenez dans {time}.',
      en: 'You have no lives left. Come back in {time}.'
    }
  },

  // ========== SIMULATION PROGRESS ==========
  simulation: {
    title: {
      fr: 'Simulation en cours...',
      en: 'Simulation in progress...'
    },
    day: {
      fr: 'Jour {day}/90',
      en: 'Day {day}/90'
    },
    phase: {
      fr: 'Phase: {phase}',
      en: 'Phase: {phase}'
    },
    germination: {
      fr: 'Germination',
      en: 'Germination'
    },
    vegetation: {
      fr: 'VÃ©gÃ©tation',
      en: 'Vegetation'
    },
    flowering: {
      fr: 'Floraison',
      en: 'Flowering'
    },
    maturation: {
      fr: 'Maturation',
      en: 'Maturation'
    },
    statusGermination: {
      fr: 'Germination des graines...',
      en: 'Seed germination...'
    },
    statusVegetation: {
      fr: 'Croissance vÃ©gÃ©tative...',
      en: 'Vegetative growth...'
    },
    statusFlowering: {
      fr: 'Floraison en cours...',
      en: 'Flowering in progress...'
    },
    statusMaturation: {
      fr: 'Maturation finale...',
      en: 'Final maturation...'
    }
  },

  // ========== RESULTS SCREEN ==========
  results: {
    titleSuccess: {
      fr: 'ðŸŽ‰ Niveau RÃ©ussi !',
      en: 'ðŸŽ‰ Level Passed!'
    },
    titleFailed: {
      fr: 'ðŸ˜” Niveau Ã‰chouÃ©',
      en: 'ðŸ˜” Level Failed'
    },
    score: {
      fr: 'Score',
      en: 'Score'
    },
    yield: {
      fr: 'Rendement',
      en: 'Yield'
    },
    target: {
      fr: 'Objectif',
      en: 'Target'
    },
    coinsEarned: {
      fr: 'PiÃ¨ces gagnÃ©es',
      en: 'Coins earned'
    },
    evolution: {
      fr: 'ðŸ“Š Ã‰volution du Champ',
      en: 'ðŸ“Š Field Evolution'
    },
    before: {
      fr: 'AVANT',
      en: 'BEFORE'
    },
    after: {
      fr: 'APRÃˆS',
      en: 'AFTER'
    },
    days: {
      fr: '{days} jours',
      en: '{days} days'
    },
    plantHealth: {
      fr: 'SantÃ© des plantes',
      en: 'Plant health'
    },
    soilMoisture: {
      fr: 'HumiditÃ© du sol',
      en: 'Soil moisture'
    },
    plantHeight: {
      fr: 'Hauteur plants',
      en: 'Plant height'
    },
    diagnosis: {
      fr: 'ðŸ” Diagnostic',
      en: 'ðŸ” Diagnosis'
    },
    didYouKnow: {
      fr: 'ðŸ“š Savais-tu que...?',
      en: 'ðŸ“š Did you know...?'
    },
    btnRetry: {
      fr: 'ðŸ”„ Rejouer',
      en: 'ðŸ”„ Retry'
    },
    btnNextLevel: {
      fr: 'âž¡ï¸ Niveau Suivant',
      en: 'âž¡ï¸ Next Level'
    },
    btnMainMenu: {
      fr: 'ðŸ  Menu Principal',
      en: 'ðŸ  Main Menu'
    },
    excellentWork: {
      fr: 'Excellent travail !',
      en: 'Excellent work!'
    },
    goodWork: {
      fr: 'Bon travail !',
      en: 'Good work!'
    },
    tryAgain: {
      fr: 'Essayez encore',
      en: 'Try again'
    },
    timeline90Days: {
      fr: 'ðŸ“… Ã‰volution sur 90 jours',
      en: 'ðŸ“… 90-day Evolution'
    }
  },

  // ========== PROFILE SCREEN ==========
  profile: {
    title: {
      fr: 'Mon Profil',
      en: 'My Profile'
    },
    btnExport: {
      fr: 'ðŸ“¥ Exporter',
      en: 'ðŸ“¥ Export'
    },
    level: {
      fr: 'Niveau',
      en: 'Level'
    },
    gamesPlayed: {
      fr: 'Parties jouÃ©es',
      en: 'Games played'
    },
    totalStars: {
      fr: 'Ã‰toiles totales',
      en: 'Total stars'
    },
    livesRemaining: {
      fr: 'Vies restantes',
      en: 'Lives remaining'
    },
    competences: {
      fr: 'ðŸ“Š CompÃ©tences',
      en: 'ðŸ“Š Skills'
    },
    recentGames: {
      fr: 'ðŸŽ® Parties RÃ©centes',
      en: 'ðŸŽ® Recent Games'
    },
    achievements: {
      fr: 'ðŸ† SuccÃ¨s',
      en: 'ðŸ† Achievements'
    },
    titleBeginner: {
      fr: 'DÃ©butant',
      en: 'Beginner'
    },
    titleApprentice: {
      fr: 'Apprenti',
      en: 'Apprentice'
    },
    titleSkilled: {
      fr: 'Agriculteur Averti',
      en: 'Skilled Farmer'
    },
    titleConfirmed: {
      fr: 'Agronome ConfirmÃ©',
      en: 'Confirmed Agronomist'
    },
    titleExpert: {
      fr: 'Expert NASA',
      en: 'NASA Expert'
    }
  },

  // ========== KNOWLEDGE CARDS ==========
  knowledge: {
    title: {
      fr: 'ðŸ“š Cartes de Savoir',
      en: 'ðŸ“š Knowledge Cards'
    },
    filterAll: {
      fr: 'Toutes',
      en: 'All'
    },
    filterWater: {
      fr: 'Eau',
      en: 'Water'
    },
    filterNutrients: {
      fr: 'Nutriments',
      en: 'Nutrients'
    },
    filterSoil: {
      fr: 'Sol',
      en: 'Soil'
    },
    filterClimate: {
      fr: 'Climat',
      en: 'Climate'
    },
    filterNASA: {
      fr: 'NASA',
      en: 'NASA'
    },
    filterPractices: {
      fr: 'Pratiques',
      en: 'Practices'
    },
    cardsUnlocked: {
      fr: '{count} carte(s) dÃ©bloquÃ©e(s)',
      en: '{count} card(s) unlocked'
    }
  },

  // ========== NASA HELP MODAL ==========
  nasaHelp: {
    title: {
      fr: 'ðŸ“¡ Recommandations NASA',
      en: 'ðŸ“¡ NASA Recommendations'
    },
    subtitle: {
      fr: 'DonnÃ©es satellites appliquÃ©es Ã  votre champ',
      en: 'Satellite data applied to your field'
    },
    adjustments: {
      fr: 'Ajustements effectuÃ©s:',
      en: 'Adjustments made:'
    },
    irrigation: {
      fr: 'ðŸ’§ Irrigation',
      en: 'ðŸ’§ Irrigation'
    },
    npk: {
      fr: 'ðŸŒ¾ Engrais NPK',
      en: 'ðŸŒ¾ NPK Fertilizer'
    },
    ph: {
      fr: 'âš—ï¸ pH du Sol',
      en: 'âš—ï¸ Soil pH'
    },
    usage: {
      fr: 'Utilisation: {current}/{max}',
      en: 'Usage: {current}/{max}'
    },
    close: {
      fr: 'Compris !',
      en: 'Got it!'
    }
  },

  // ========== TUTORIAL ==========
  tutorial: {
    welcome: {
      fr: 'Bienvenue dans IleRise',
      en: 'Welcome to IleRise'
    },
    step1: {
      fr: 'Ajustez les paramÃ¨tres de culture',
      en: 'Adjust crop parameters'
    },
    step2: {
      fr: 'Utilisez les donnÃ©es NASA',
      en: 'Use NASA data'
    },
    step3: {
      fr: 'Lancez la simulation',
      en: 'Run the simulation'
    },
    step4: {
      fr: 'Analysez vos rÃ©sultats',
      en: 'Analyze your results'
    },
    btnSkip: {
      fr: 'Passer',
      en: 'Skip'
    },
    btnNext: {
      fr: 'Suivant',
      en: 'Next'
    },
    btnFinish: {
      fr: 'Terminer',
      en: 'Finish'
    }
  },

  // ========== NOTIFICATIONS ==========
  notifications: {
    livesRestored: {
      fr: 'â¤ï¸ Vies restaurÃ©es !',
      en: 'â¤ï¸ Lives restored!'
    },
    levelUnlocked: {
      fr: 'ðŸŽ‰ Nouveau niveau dÃ©bloquÃ© !',
      en: 'ðŸŽ‰ New level unlocked!'
    },
    cropUnlocked: {
      fr: 'ðŸŒ¾ Nouvelle culture dÃ©bloquÃ©e !',
      en: 'ðŸŒ¾ New crop unlocked!'
    },
    achievementUnlocked: {
      fr: 'ðŸ† SuccÃ¨s dÃ©bloquÃ© !',
      en: 'ðŸ† Achievement unlocked!'
    },
    exportSuccess: {
      fr: 'âœ… Exportation rÃ©ussie',
      en: 'âœ… Export successful'
    },
    exportMessage: {
      fr: 'Vos donnÃ©es de profil ont Ã©tÃ© tÃ©lÃ©chargÃ©es avec succÃ¨s !',
      en: 'Your profile data has been successfully downloaded!'
    }
  },

  // ========== ERRORS ==========
  errors: {
    noInternet: {
      fr: 'Pas de connexion Internet',
      en: 'No Internet connection'
    },
    serverError: {
      fr: 'Erreur serveur',
      en: 'Server error'
    },
    loadingFailed: {
      fr: 'Ã‰chec du chargement',
      en: 'Loading failed'
    },
    invalidCredentials: {
      fr: 'Identifiants invalides',
      en: 'Invalid credentials'
    },
    notEnoughCoins: {
      fr: 'Pas assez de piÃ¨ces',
      en: 'Not enough coins'
    },
    alreadyUnlocked: {
      fr: 'DÃ©jÃ  dÃ©bloquÃ©',
      en: 'Already unlocked'
    }
  },

  // ========== CROPS ==========
  crops: {
    maize: {
      fr: 'MaÃ¯s',
      en: 'Maize'
    },
    rice: {
      fr: 'Riz',
      en: 'Rice'
    },
    cowpea: {
      fr: 'NiÃ©bÃ©',
      en: 'Cowpea'
    },
    cassava: {
      fr: 'Manioc',
      en: 'Cassava'
    },
    cacao: {
      fr: 'Cacao',
      en: 'Cacao'
    },
    cotton: {
      fr: 'Coton',
      en: 'Cotton'
    },
    wheat: {
      fr: 'BlÃ©',
      en: 'Wheat'
    },
    potato: {
      fr: 'Pomme de terre',
      en: 'Potato'
    },
    tomato: {
      fr: 'Tomate',
      en: 'Tomato'
    },
    sorghum: {
      fr: 'Sorgho',
      en: 'Sorghum'
    }
  }
};

/**
 * Get translation for a key
 * @param {string} key - Translation key (e.g., 'home.title')
 * @param {string} lang - Language code ('fr' or 'en')
 * @param {object} params - Parameters to replace in translation
 * @returns {string} Translated text
 */
export function t(key, lang = 'fr', params = {}) {
  const keys = key.split('.');
  let value = translations;

  for (const k of keys) {
    value = value?.[k];
    if (!value) {
      console.warn(`Translation key not found: ${key}`);
      return key;
    }
  }

  let text = value[lang] || value['fr'] || key;

  // Replace parameters
  Object.keys(params).forEach(param => {
    text = text.replace(`{${param}}`, params[param]);
  });

  return text;
}

/**
 * Get current language from localStorage
 * @returns {string} Language code
 */
export function getCurrentLanguage() {
  return localStorage.getItem('ilerise_language') || 'fr';
}

/**
 * Set current language
 * @param {string} lang - Language code ('fr' or 'en')
 */
export function setLanguage(lang) {
  if (!['fr', 'en'].includes(lang)) {
    console.warn(`Unsupported language: ${lang}`);
    return;
  }

  localStorage.setItem('ilerise_language', lang);
  document.documentElement.lang = lang;

  // Emit custom event for UI update
  window.dispatchEvent(new CustomEvent('languagechange', { detail: { lang } }));
}

export default { translations, t, getCurrentLanguage, setLanguage };
